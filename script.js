const languageData = {
    en: {
        title: "Mr.Nem Sothea | Portfolio",
        hello: "Hello, I'm <span class='highlight'>Nem Sothea</span> 👋",
        subtitle: "Senior iOS Software Engineer & Team Leader, Mobile Department",
        description: "Senior iOS Software Engineer with expertise in enterprise mobile applications and team leadership as Mobile Department Leader at KOSIGN. Skilled in modern architecture patterns and mentoring. Seeking advanced studies in AI and emerging technologies.",
        about: "About Me",
        aboutText: "Hello! I'm <strong>Nem Sothea</strong>, based in Phnom Penh, Cambodia. I am passionate about building impactful mobile experiences and leading teams to deliver high-quality iOS applications. My journey in tech has taken me from hands-on development to mentoring and guiding others, always with a focus on innovation and collaboration.",
        education: "Education",
        mastersDegree: "Master's degree of Science, Computer Science",
        asiaEuroUni: "Asia Euro University (August - Now)",
        bachelorsDegree: "Bachelor of Science, Computer Science",
        rupp: "Royal University of Phnom Penh (2011 - 2016)",
        advancedDev: "Advanced Software Development",
        koreaCenter: "Korea Software HRD Center (2016 - 2017)",
        javaDev: "App Development with JAVA (2015-2016)",
        webDev: "Web Application Development (2017)",
        experience: "Experience",
        kosign: "KOSIGN [Korea Software Innovation Global Network]",
        kosignPeriod: "March 2017 - Present | Phnom Penh, Cambodia",
        leadDev: "Lead development of enterprise-level iOS applications utilizing Swift and SwiftUI",
        overseeTeam: "Oversee team operations as Leader of the Mobile Department",
        implementArch: "Implement and optimize modern architecture patterns (MVVM, Clean Architecture)",
        pioneeredSwiftUI: "Pioneered adoption of SwiftUI for UI development across multiple projects",
        supervisedProjects: "Supervised project delegation and provided mentorship to junior iOS developers",
        ceoAward: "Recognized with \"CEO AWARD WINNER\" (December 2024) for contributions to iOS development",
        academicAwards: "Academic Recognitions & Awards",
        bestCeoAward: "Best CEO Award - Presented by Seol WookHwan (CEO), KOSIGN, November 2025",
        linkedinAssessments: "LinkedIn Skill Assessments: iOS Development, Web Development",
        projects: "Projects",
        wecafeDesc: "The easiest and quickest way to buy soft drinks and snacks via a mobile app.",
        bzpexpenseDesc: "An app provided to security users of the BizPlay expense management service, streamlining expense tracking and management.",
        digitalLibraryDesc: "Designed UX/UI for a digital library providing free e-books and videos to children and students.",
        moreProjects: "I have extensive expertise in business productivity solutions, enterprise mobile application development, and financial technology implementation",
        skills: "Skills",
        developmentFocus: "Development Focus",
        enterpriseArch: "Enterprise iOS Application Architecture",
        modernUI: "Modern UI Implementation (iPhone, iPad, MacOS)",
        prototyping: "Prototyping & Design Systems",
        restAPI: "RESTful API Integration",
        backendIntegration: "Backend & System Integration",
        mentoring: "Mentoring & Team Growth",
        toolsTechnologies: "Tools & Technologies",
        xcodeGit: "Xcode, Git, GitHub, GitLab",
        figma: "Figma (UI/UX Design)",
        database: "Database Design & Implementation",
        mvvm: "MVVM, Clean Architecture",
        languages: "Languages",
        khmer: "Khmer (Native)",
        english: "English (Proficiency)",
        korean: "Korean (Intermediate)",
        researchInterests: "Research Interests",
        aiIntegration: "Artificial Intelligence integration in mobile applications",
        machineLearning: "Machine Learning for personalized user experiences",
        mobileArch: "Advanced Mobile Architecture design patterns",
        emergingTech: "Emerging Technologies in software development",
        crossPlatform: "Cross-platform Development methodologies",
        contact: "Contact",
        phone: "Phone",
        email: "Email",
        linkedin: "LinkedIn",
        github: "GitHub",
        footer: "© 2025 Nem Sothea. All rights reserved."
    },
    km: {
        title: "លោក ណេម សុធា | ប្រវត្តិរូប",
        hello: "សួស្តី ខ្ញុំឈ្មោះ <span class='highlight'>ណេម សុធា</span> 👋",
        subtitle: "វិស្វករ iOS ជាន់ខ្ពស់ និងអ្នកដឹកនាំក្រុម នាយកដ្ឋាន Mobile",
        description: "វិស្វករ iOS ជាន់ខ្ពស់ដែលមានជំនាញក្នុងការអភិវឌ្ឍន៍កម្មវិធីចល័ត(Mobile)សម្រាប់សហគ្រាស និងការដឹកនាំក្រុមជាអ្នកដឹកនាំនាយកដ្ឋាន Mobile នៅ KOSIGN។ មានជំនាញក្នុងគំរូស្ថាបត្យកម្មទំនើប និងការណែនាំ។ កំពុងស្វែងរកការសិក្សាកម្រិតខ្ពស់ក្នុង AI និងបច្ចេកវិទ្យាថ្មី។",
        about: "អំពីខ្ញុំ",
        aboutText: "សួស្តី! ខ្ញុំឈ្មោះ <strong>ណេម សុធា</strong> រស់នៅភ្នំពេញ កម្ពុជា។ ខ្ញុំចូលចិត្តការបង្កើតបទពិសោធន៍ចល័ត(Mobile)ដែលមានឥទ្ធិពល និងដឹកនាំក្រុមដើម្បីផលិតកម្មវិធី iOS គុណភាពខ្ពស់។ ដំណើរការរបស់ខ្ញុំក្នុងបច្ចេកវិទ្យាបាននាំខ្ញុំពីការអភិវឌ្ឍន៍ដោយផ្ទាល់ទៅការណែនាំ និងណែនាំអ្នកដទៃ ជានិច្ចផ្តោតលើភាពច្នៃប្រឌិត និងការសហការ។",
        education: "ការអប់រំ",
        mastersDegree: "អនុបណ្ឌិតវិទ្យាសាស្ត្រ វិទ្យាសាស្ត្រកុំព្យូទ័រ",
        asiaEuroUni: "សាកលវិទ្យាល័យ Asia Euro (សីហា - បច្ចុប្បន្ន)",
        bachelorsDegree: "បរិញ្ញាបត្រវិទ្យាសាស្ត្រ វិទ្យាសាស្ត្រកុំព្យូទ័រ",
        rupp: "សាកលវិទ្យាល័យភ្នំពេញ (២០១១ - ២០១៦)",
        advancedDev: "ការអភិវឌ្ឍន៍កម្មវិធីកម្រិតខ្ពស់",
        koreaCenter: "មជ្ឈមណ្ឌល Korea Software HRD (២០១៦ - ២០១៧)",
        javaDev: "ការអភិវឌ្ឍន៍កម្មវិធីជាមួយ JAVA (២០១៥-២០១៦)",
        webDev: "ការអភិវឌ្ឍន៍កម្មវិធីវែប (២០១៧)",
        experience: "បទពិសោធន៍",
        kosign: "KOSIGN [Korea Software Innovation Global Network]",
        kosignPeriod: "ខែមីនា ២០១៧ - បច្ចុប្បន្ន | ភ្នំពេញ កម្ពុជា",
        leadDev: "ដឹកនាំការអភិវឌ្ឍន៍កម្មវិធី iOS កម្រិតសហគ្រាសដោយប្រើ Swift និង SwiftUI",
        overseeTeam: "ដឹកនាំប្រតិបត្តិការក្រុមជាអ្នកដឹកនាំនាយកដ្ឋាន Mobile",
        implementArch: "អនុវត្ត និងបង្កើនប្រសិទ្ធភាពគំរូស្ថាបត្យកម្មទំនើប (MVVM, Clean Architecture)",
        pioneeredSwiftUI: "ជាអ្នកដំបូងបង្អស់ក្នុងការអនុវត្ត SwiftUI សម្រាប់ការអភិវឌ្ឍន៍ UI ក្នុងគម្រោងជាច្រើន",
        supervisedProjects: "ដឹកនាំការចែករំលែកគម្រោង និងផ្តល់ការណែនាំដល់អ្នកអភិវឌ្ឍន៍ iOS ជំនាន់ក្រោយ",
        ceoAward: "បានទទួលពានរង្វាន់បុគ្គលិកឆ្នើម \"CEO AWARD WINNER\" (ខែធ្នូ ២០២៤) សម្រាប់ការចូលរួមចំណែកក្នុងការអភិវឌ្ឍន៍ iOS",
        academicAwards: "ការទទួលស្គាល់ និងពានរង្វាន់អប់រំ",
        bestCeoAward: "ពានរង្វាន់បុគ្គលិកឆ្នើម CEO AWARD ល្អបំផុត - បានផ្តល់ដោយ Seol WookHwan (CEO), KOSIGN, ខែវិច្ឆិកា ២០២៥",
        linkedinAssessments: "ការវាយតម្លៃជំនាញ LinkedIn: ការអភិវឌ្ឍន៍ iOS, ការអភិវឌ្ឍន៍វែប",
        projects: "គម្រោង",
        wecafeDesc: "វិធីងាយស្រួល និងលឿនបំផុតក្នុងការទិញភេសជ្ជៈ និងអាហារសម្រន់តាមរយៈកម្មវិធីចល័ត។",
        bzpexpenseDesc: "កម្មវិធីដែលផ្តល់ដល់អ្នកប្រើប្រាស់សុវត្ថិភាពនៃសេវាកម្មគ្រប់គ្រងចំណាយ BizPlay ដែលធ្វើឱ្យការតាមដាន និងគ្រប់គ្រងចំណាយកាន់តែងាយស្រួល។",
        digitalLibraryDesc: "បានរចនា UX/UI សម្រាប់បណ្ណាល័យឌីជីថលដែលផ្តល់សៀវភៅអេឡិចត្រូនិច និងវីដេអូឥតគិតថ្លៃដល់កុមារ និងសិស្ស។",
        moreProjects: "ខ្ញុំមានជំនាញទូទៅក្នុងដំណោះស្រាយផលិតភាពអាជីវកម្ម ការអភិវឌ្ឍន៍កម្មវិធីចល័តសហគ្រាស និងការអនុវត្តបច្ចេកវិទ្យាហិរញ្ញវត្ថុ",
        skills: "ជំនាញ",
        developmentFocus: "ការផ្តោតលើការអភិវឌ្ឍន៍",
        enterpriseArch: "ស្ថាបត្យកម្មកម្មវិធី iOS សហគ្រាស",
        modernUI: "ការអនុវត្ត UI ទំនើប (iPhone, iPad, MacOS)",
        prototyping: "គំរូ និងប្រព័ន្ធរចនា",
        restAPI: "ការតភ្ជាប់ RESTful API",
        backendIntegration: "ការតភ្ជាប់ Backend និងប្រព័ន្ធ",
        mentoring: "ការណែនាំ និងការលូតលាស់ក្រុម",
        toolsTechnologies: "ឧបករណ៍ និងបច្ចេកវិទ្យា",
        xcodeGit: "Xcode, Git, GitHub, GitLab",
        figma: "Figma (រចនា UI/UX)",
        database: "ការរចនា និងអនុវត្តមូលដ្ឋានទិន្នន័យ",
        mvvm: "MVVM, Clean Architecture",
        languages: "ភាសា",
        khmer: "ខ្មែរ (ភាសាកំណើត)",
        english: "អង់គ្លេស (ជំនាញ)",
        korean: "កូរ៉េ (មធ្យម)",
        researchInterests: "ចំណាប់អារម្មណ៍ក្នុងការស្រាវជ្រាវ",
        aiIntegration: "ការអភិវឌ្ឍន៍សិប្បនិម្មិតក្នុងកម្មវិធីចល័ត(Artificial Intelligence)",
        machineLearning: "ការរៀនម៉ាស៊ីនសម្រាប់បទពិសោធន៍អ្នកប្រើប្រាស់ផ្ទាល់ខ្លួន(Machine Learning)",
        mobileArch: "គំរូស្ថាបត្យកម្មចល័តកម្រិតខ្ពស់(Advanced Mobile Architecture design)",
        emergingTech: "បច្ចេកវិទ្យាថ្មីក្នុងការអភិវឌ្ឍន៍កម្មវិធី(Emerging Technologies)",
        crossPlatform: "វិធីសាស្ត្រអភិវឌ្ឍន៍ Cross-platform",
        contact: "ទំនាក់ទំនង",
        phone: "លេខទូរស័ព្ទ",
        email: "អ៊ីមែល",
        linkedin: "លីងអីន(LinkedIn)",
        github: "ងីតហាប(GitHub)",
        footer: "© ២០២៥ ណេម សុធា។ រក្សាសិទ្ធិទាំងអស់។"
    },
    ko: {
        title: "냄 쏘티아 | 포트폴리오",
        hello: "안녕하세요, <span class='highlight'>냄 쏘티아</span>입니다 👋",
        subtitle: "시니어 iOS 소프트웨어 엔지니어 및 모바일 부서 팀 리더",
        description: "KOSIGN에서 모바일 부서 리더로서 엔터프라이즈 모바일 애플리케이션 개발과 팀 리더십에 전문성을 가진 시니어 iOS 소프트웨어 엔지니어입니다. 현대적인 아키텍처 패턴과 멘토링에 능숙하며, AI 및 신기술 분야의 고급 연구를 추구하고 있습니다.",
        about: "소개",
        aboutText: "안녕하세요! 저는 <strong>냄 쏘티아</strong>로, 캄보디아 프놈펜에 거주하고 있습니다. 저는 영향력 있는 모바일 경험을 구축하고 고품질 iOS 애플리케이션을 제공하기 위해 팀을 이끄는 것에 열정을 가지고 있습니다. 기술 분야에서의 여정은 실무 개발부터 다른 사람들을 멘토링하고 안내하는 것까지 이어졌으며, 항상 혁신과 협업에 중점을 두고 있습니다.",
        education: "교육",
        mastersDegree: "컴퓨터 과학 석사 학위",
        asiaEuroUni: "아시아 유럽 대학교 (8월 - 현재)",
        bachelorsDegree: "컴퓨터 과학 학사 학위",
        rupp: "프놈펜 왕립 대학교 (2011 - 2016)",
        advancedDev: "고급 소프트웨어 개발",
        koreaCenter: "한국 소프트웨어 HRD 센터 (2016 - 2017)",
        javaDev: "JAVA를 이용한 앱 개발 (2015-2016)",
        webDev: "웹 애플리케이션 개발 (2017)",
        experience: "경력",
        kosign: "KOSIGN [한국 소프트웨어 혁신 글로벌 네트워크]",
        kosignPeriod: "2017년 3월 - 현재 | 캄보디아 프놈펜",
        leadDev: "Swift와 SwiftUI를 활용한 엔터프라이즈급 iOS 애플리케이션 개발 주도",
        overseeTeam: "모바일 부서 리더로서 팀 운영 감독",
        implementArch: "현대적인 아키텍처 패턴 구현 및 최적화 (MVVM, Clean Architecture)",
        pioneeredSwiftUI: "여러 프로젝트에서 SwiftUI UI 개발 채택 선도",
        supervisedProjects: "프로젝트 위임 감독 및 주니어 iOS 개발자 멘토링 제공",
        ceoAward: "iOS 개발 기여로 \"CEO AWARD WINNER\" (2024년 12월) 수상",
        academicAwards: "학술 인정 및 수상",
        bestCeoAward: "최고 CEO AWARD 상 - 설욱환(CEO) 수여, KOSIGN, 2025년 11월",
        linkedinAssessments: "LinkedIn 기술 평가: iOS 개발, 웹 개발",
        projects: "프로젝트",
        wecafeDesc: "모바일 앱을 통해 음료와 간식을 가장 쉽고 빠르게 구매할 수 있는 방법.",
        bzpexpenseDesc: "BizPlay 비용 관리 서비스의 보안 사용자를 위한 앱으로, 비용 추적 및 관리를 간소화합니다.",
        digitalLibraryDesc: "어린이와 학생들에게 무료 전자책과 비디오를 제공하는 디지털 도서관의 UX/UI 설계.",
        moreProjects: "비즈니스 생산성 솔루션, 엔터프라이즈 모바일 애플리케이션 개발, 금융 기술 구현에 광범위한 전문 지식을 보유하고 있습니다.",
        skills: "기술",
        developmentFocus: "개발 중점",
        enterpriseArch: "엔터프라이즈 iOS 애플리케이션 아키텍처",
        modernUI: "현대적 UI 구현 (iPhone, iPad, MacOS)",
        prototyping: "프로토타이핑 및 디자인 시스템",
        restAPI: "RESTful API 통합",
        backendIntegration: "백엔드 및 시스템 통합",
        mentoring: "멘토링 및 팀 성장",
        toolsTechnologies: "도구 및 기술",
        xcodeGit: "Xcode, Git, GitHub, GitLab",
        figma: "Figma (UI/UX 디자인)",
        database: "데이터베이스 설계 및 구현",
        mvvm: "MVVM, Clean Architecture",
        languages: "언어",
        khmer: "크메르어 (모국어)",
        english: "영어 (숙련)",
        korean: "한국어 (중급)",
        researchInterests: "연구 관심사",
        aiIntegration: "모바일 애플리케이션의 인공지능 통합",
        machineLearning: "개인화된 사용자 경험을 위한 머신러닝",
        mobileArch: "고급 모바일 아키텍처 디자인 패턴",
        emergingTech: "소프트웨어 개발의 신기술",
        crossPlatform: "크로스 플랫폼 개발 방법론",
        contact: "연락처",
        phone: "전화",
        email: "이메일",
        linkedin: "링크드인(LinkedIn)",
        github: "깃허브(GitHub)",
        footer: "© 2025 냄 쏘티아. 모든 권리 보유."
    }
};

function changeLanguage(lang) {
    console.log('Changing language to:', lang);

    // Update HTML lang attribute for font switching
    document.documentElement.lang = lang;

    // Update content
    document.title = languageData[lang].title;

    // Update navigation
    document.querySelector('nav h1').textContent = languageData[lang].title.split(' | ')[0];
    document.querySelector('a[href="#about"]').textContent = languageData[lang].about;
    document.querySelector('a[href="#experience"]').textContent = languageData[lang].experience;
    document.querySelector('a[href="#projects"]').textContent = languageData[lang].projects;
    document.querySelector('a[href="#skills"]').textContent = languageData[lang].skills;
    document.querySelector('a[href="#contact"]').textContent = languageData[lang].contact;

    // Update header
    document.querySelector('.animated-text').innerHTML = languageData[lang].hello;
    document.querySelector('.subtitle').textContent = languageData[lang].subtitle;

    // Update header description
    const headerDesc = document.querySelector('header .hero p:last-of-type');
    if (headerDesc) {
        headerDesc.textContent = languageData[lang].description;
    }

    // Update about section
    const aboutH2 = document.querySelector('#about h2:first-of-type');
    if (aboutH2) {
        aboutH2.textContent = languageData[lang].about;
    }

    const aboutP = document.querySelector('#about p');
    if (aboutP) {
        aboutP.innerHTML = languageData[lang].aboutText;
    }

    // Update education section
    const educationH2 = document.querySelector('#about h2:last-of-type');
    if (educationH2) {
        educationH2.textContent = languageData[lang].education;
    }

    // Update education items
    const educationItems = document.querySelectorAll('#about ul li');
    if (educationItems.length >= 6) {
        educationItems[0].innerHTML = `<strong>${languageData[lang].mastersDegree}</strong><br>${languageData[lang].asiaEuroUni}`;
        educationItems[1].innerHTML = `<strong>${languageData[lang].bachelorsDegree}</strong><br>${languageData[lang].rupp}`;
        educationItems[2].innerHTML = `<strong>${languageData[lang].advancedDev}</strong>`;
        educationItems[3].textContent = languageData[lang].koreaCenter;
        educationItems[4].textContent = languageData[lang].javaDev;
        educationItems[5].textContent = languageData[lang].webDev;
    }

    // Update experience section
    const experienceH2 = document.querySelector('#experience h2');
    if (experienceH2) {
        experienceH2.textContent = languageData[lang].experience;
    }

    const experienceSection = document.querySelector('#experience');
    const kosignPara = experienceSection.querySelector('p');
    if (kosignPara) {
        kosignPara.innerHTML = `<strong>${languageData[lang].kosign}</strong><br>${languageData[lang].kosignPeriod}`;
    }

    // Update experience items (first ul)
    const experienceItems = experienceSection.querySelectorAll('ul:first-of-type li');
    if (experienceItems.length >= 6) {
        experienceItems[0].textContent = languageData[lang].leadDev;
        experienceItems[1].textContent = languageData[lang].overseeTeam;
        experienceItems[2].textContent = languageData[lang].implementArch;
        experienceItems[3].textContent = languageData[lang].pioneeredSwiftUI;
        experienceItems[4].textContent = languageData[lang].supervisedProjects;
        experienceItems[5].textContent = languageData[lang].ceoAward;
    }

    // Update academic awards section
    const academicAwardsH3 = experienceSection.querySelector('h3');
    if (academicAwardsH3) {
        academicAwardsH3.textContent = languageData[lang].academicAwards;
    }

    // Update awards items (second ul)
    const awardsItems = experienceSection.querySelectorAll('ul:last-of-type li');
    if (awardsItems.length >= 2) {
        awardsItems[0].textContent = languageData[lang].bestCeoAward;
        awardsItems[1].textContent = languageData[lang].linkedinAssessments;
    }

    // Update projects section
    const projectsH2 = document.querySelector('#projects h2');
    if (projectsH2) {
        projectsH2.textContent = languageData[lang].projects;
    }

    // Update project descriptions
    const projectCards = document.querySelectorAll('.project-card');
    if (projectCards.length >= 6) {
        const wecafeDesc = projectCards[0].querySelector('p');
        if (wecafeDesc) wecafeDesc.textContent = languageData[lang].wecafeDesc;

        const bzpexpenseDesc = projectCards[1].querySelector('p');
        if (bzpexpenseDesc) bzpexpenseDesc.textContent = languageData[lang].bzpexpenseDesc;

        const tripplusDesc = projectCards[2].querySelector('p');
        if (tripplusDesc) tripplusDesc.textContent = languageData[lang].bzpexpenseDesc; // Using same description for TripPlus

        const bizplayDesc = projectCards[3].querySelector('p');
        if (bizplayDesc) bizplayDesc.textContent = languageData[lang].bzpexpenseDesc; // Using same description for BizPlay

        const digitalLibraryDesc = projectCards[4].querySelector('p');
        if (digitalLibraryDesc) digitalLibraryDesc.textContent = languageData[lang].digitalLibraryDesc;

        const moreProjectsDesc = projectCards[5].querySelector('p');
        if (moreProjectsDesc) moreProjectsDesc.textContent = languageData[lang].moreProjects;
    }

    // Update skills section - using simple ID selectors
    const skillsTitle = document.getElementById('skills-title');
    if (skillsTitle) {
        skillsTitle.textContent = languageData[lang].skills;
    }

    // Update development focus title
    const developmentFocusTitle = document.getElementById('development-focus-title');
    if (developmentFocusTitle) {
        developmentFocusTitle.textContent = languageData[lang].developmentFocus;
    }

    // Update development focus list
    const developmentFocusList = document.getElementById('development-focus-list');
    if (developmentFocusList) {
        const devFocusItems = developmentFocusList.querySelectorAll('li');
        if (devFocusItems.length >= 6) {
            devFocusItems[0].textContent = languageData[lang].enterpriseArch;
            devFocusItems[1].textContent = languageData[lang].modernUI;
            devFocusItems[2].textContent = languageData[lang].prototyping;
            devFocusItems[3].textContent = languageData[lang].restAPI;
            devFocusItems[4].textContent = languageData[lang].backendIntegration;
            devFocusItems[5].textContent = languageData[lang].mentoring;
        }
    }

    // Update tools & technologies title
    const toolsTechnologiesTitle = document.getElementById('tools-technologies-title');
    if (toolsTechnologiesTitle) {
        toolsTechnologiesTitle.textContent = languageData[lang].toolsTechnologies;
    }

    // Update tools & technologies list
    const toolsTechnologiesList = document.getElementById('tools-technologies-list');
    if (toolsTechnologiesList) {
        const toolsItems = toolsTechnologiesList.querySelectorAll('li');
        if (toolsItems.length >= 4) {
            toolsItems[0].textContent = languageData[lang].xcodeGit;
            toolsItems[1].textContent = languageData[lang].figma;
            toolsItems[2].textContent = languageData[lang].database;
            toolsItems[3].textContent = languageData[lang].mvvm;
        }
    }

    // Update languages title
    const languagesTitle = document.getElementById('languages-title');
    if (languagesTitle) {
        languagesTitle.textContent = languageData[lang].languages;
    }

    // Update languages list
    const languagesList = document.getElementById('languages-list');
    if (languagesList) {
        const languagesItems = languagesList.querySelectorAll('li');
        if (languagesItems.length >= 3) {
            languagesItems[0].textContent = languageData[lang].khmer;
            languagesItems[1].textContent = languageData[lang].korean;
            languagesItems[2].textContent = languageData[lang].english;
        }
    }

    // Update research interests title
    const researchInterestsTitle = document.getElementById('research-interests-title');
    if (researchInterestsTitle) {
        researchInterestsTitle.textContent = languageData[lang].researchInterests;
    }

    // Update research interests list
    const researchInterestsList = document.getElementById('research-interests-list');
    if (researchInterestsList) {
        const researchItems = researchInterestsList.querySelectorAll('li');
        if (researchItems.length >= 5) {
            researchItems[0].textContent = languageData[lang].aiIntegration;
            researchItems[1].textContent = languageData[lang].machineLearning;
            researchItems[2].textContent = languageData[lang].mobileArch;
            researchItems[3].textContent = languageData[lang].emergingTech;
            researchItems[4].textContent = languageData[lang].crossPlatform;
        }
    }

    // Update contact section - using simple ID selectors
    const contactTitle = document.getElementById('contact-title');
    if (contactTitle) {
        contactTitle.textContent = languageData[lang].contact;
    }

    const phoneLabel = document.getElementById('phone-label');
    if (phoneLabel) {
        phoneLabel.textContent = languageData[lang].phone + ' :';
    }

    const emailLabel = document.getElementById('email-label');
    if (emailLabel) {
        emailLabel.textContent = languageData[lang].email + ' :';
    }

    const linkedinLabel = document.getElementById('linkedin-label');
    if (linkedinLabel) {
        linkedinLabel.textContent = languageData[lang].linkedin + ' :';
    }

    const githubLabel = document.getElementById('github-label');
    if (githubLabel) {
        githubLabel.textContent = languageData[lang].github + ' :';
    }

    // Update footer
    const footer = document.querySelector('footer p');
    if (footer) {
        footer.textContent = languageData[lang].footer;
    }

    console.log('Language change completed for:', lang);
}

// Theme functionality
function initializeTheme() {
    const themeToggle = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    // Set initial theme
    if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
    } else if (systemPrefersDark) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
    } else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
    }

    // Theme toggle functionality
    themeToggle.addEventListener('click', function () {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);

        // Add a subtle animation effect
        document.body.style.transition = 'none';
        setTimeout(() => {
            document.body.style.transition = 'background-color 0.3s ease, color 0.3s ease';
        }, 10);
    });

    // Listen for system theme changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function (e) {
        if (!localStorage.getItem('theme')) {
            const newTheme = e.matches ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
        }
    });
}

// Scroll to Top functionality
function initializeScrollToTop() {
    const scrollToTopBtn = document.getElementById('scrollToTop');

    // Show/hide scroll to top button based on scroll position
    window.addEventListener('scroll', function () {
        if (window.pageYOffset > 300) {
            scrollToTopBtn.classList.add('show');
        } else {
            scrollToTopBtn.classList.remove('show');
        }
    });

    // Smooth scroll to top when button is clicked
    scrollToTopBtn.addEventListener('click', function () {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // Alternative smooth scroll for older browsers
    function smoothScrollToTop() {
        const currentScroll = document.documentElement.scrollTop || document.body.scrollTop;
        if (currentScroll > 0) {
            window.requestAnimationFrame(smoothScrollToTop);
            window.scrollTo(0, currentScroll - currentScroll / 8);
        }
    }

    // Fallback for browsers that don't support smooth scrolling
    if (!('scrollBehavior' in document.documentElement.style)) {
        scrollToTopBtn.addEventListener('click', function (e) {
            e.preventDefault();
            smoothScrollToTop();
        });
    }
}

// Mobile menu functionality
function initializeMobileMenu() {
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const navMenu = document.querySelector('.nav-menu');
    const menuClose = document.getElementById('menuClose');

    mobileMenuToggle.addEventListener('click', function () {
        this.classList.toggle('active');
        navMenu.classList.toggle('active');
    });

    // Close menu with close button
    if (menuClose) {
        menuClose.addEventListener('click', function () {
            mobileMenuToggle.classList.remove('active');
            navMenu.classList.remove('active');
        });
    }

    // Close mobile menu when clicking on a link
    const navLinks = document.querySelectorAll('.nav-menu a');
    navLinks.forEach(link => {
        link.addEventListener('click', function () {
            mobileMenuToggle.classList.remove('active');
            navMenu.classList.remove('active');
        });
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', function (event) {
        if (!mobileMenuToggle.contains(event.target) && !navMenu.contains(event.target)) {
            mobileMenuToggle.classList.remove('active');
            navMenu.classList.remove('active');
        }
    });
}

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function () {
    // Initialize AOS
    AOS.init();

    // Initialize all functionality
    changeLanguage('km');
    initializeTheme();
    initializeScrollToTop();
    initializeMobileMenu();

    // Add change listener for language dropdown
    document.getElementById('languageSelect').addEventListener('change', function () {
        changeLanguage(this.value);
    });
}); 